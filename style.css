*,
*::after,
*::before {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

:root {
  --dark-color: #12000a;
  --stem-light: #3adf8a;
  --stem-mid: #2fbf71;
  --stem-dark: #1f8f55;
}

body {
  padding-top: 16vmin;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  min-height: 100vh;
  background-color: var(--dark-color);
  overflow: hidden;
  perspective: 1000px;
}

/* ---------------- BACKGROUND (OG NIGHT + SOFT PINK AMBIENCE) ---------------- */

.night {
  position: fixed;
  left: 50%;
  top: 0;
  transform: translateX(-50%);
  width: 100%;
  height: 100%;
  filter: blur(0.12vmin);
  /* keep it behind everything */
  z-index: -10;

  /* original vibe: deep night + subtle color */
  background:
    radial-gradient(ellipse at top, rgba(255, 185, 225, 0.12) 0%, rgba(18, 0, 10, 0) 55%),
    radial-gradient(ellipse at bottom, rgba(18, 0, 10, 0.92) 0%, rgba(255, 120, 190, 0.12) 60%, rgba(18, 0, 10, 1) 100%),
    radial-gradient(circle at 30% 40%, rgba(120, 80, 255, 0.10), transparent 55%),
    linear-gradient(180deg, #12000a 0%, #090014 55%, #12000a 100%);
}

/* slow moving soft pink haze (subtle, not “shadowy”) */
.night::before {
  content: "";
  position: absolute;
  inset: -25vmin;
  background:
    radial-gradient(circle at 18% 22%, rgba(255, 140, 200, 0.16), transparent 55%),
    radial-gradient(circle at 82% 18%, rgba(255, 210, 235, 0.12), transparent 60%),
    radial-gradient(circle at 65% 78%, rgba(255, 120, 190, 0.10), transparent 62%),
    radial-gradient(circle at 40% 60%, rgba(255, 170, 220, 0.08), transparent 60%);
  filter: blur(1.6vmin);
  opacity: 0.9;
  animation: valentine-haze 22s ease-in-out infinite;
  pointer-events: none;
}

/* very light vignette for depth WITHOUT darkening the flowers */
.night::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 50% 35%, rgba(0,0,0,0) 0%, rgba(0,0,0,0.22) 70%, rgba(0,0,0,0.28) 100%);
  pointer-events: none;
}

@keyframes valentine-haze {
  0%, 100% { transform: scale(1) translateY(0); }
  50% { transform: scale(1.03) translateY(-1.2vmin); }
}

}

/* ---------------- FLOWERS ---------------- */

.flowers {
  position: relative;
  transform: scale(0.9);
}

.flower {
  position: absolute;
  bottom: 10vmin;
  transform-origin: bottom center;
}

/* ---------------- STEM (FIXED SHADING) ---------------- */

.flower__line {
  height: 55vmin;
  width: 1.5vmin;

  /* soft cylindrical shading */
  background-image:
    linear-gradient(
      to right,
      var(--stem-dark),
      var(--stem-mid) 45%,
      var(--stem-light) 70%,
      var(--stem-mid)
    ),
    linear-gradient(
      to top,
      transparent 8%,
      var(--stem-mid),
      var(--stem-light)
    );

  border-radius: 1vmin;
  box-shadow: inset 0 0 0.8vmin rgba(255,255,255,0.18);
  animation: grow-flower-tree 4s backwards;
}

@keyframes grow-flower-tree {
  from { height: 0; }
}

/* ---------------- STEM LEAVES (FIXED) ---------------- */

.flower__line__leaf {
  --w: 7vmin;
  --h: calc(var(--w) + 2vmin);
  position: absolute;
  width: var(--w);
  height: var(--h);
  border-radius: var(--h);

  background-image:
    linear-gradient(
      to top,
      var(--stem-dark),
      var(--stem-mid) 60%,
      var(--stem-light)
    );

  box-shadow: inset 0 0 0.6vmin rgba(255,255,255,0.15);
}

/* positions unchanged */
.flower__line__leaf--1 { top: 20%; left: 90%; transform: rotate(70deg) rotateY(30deg); }
.flower__line__leaf--2 { top: 45%; left: 90%; transform: rotate(70deg) rotateY(30deg); }

.flower__line__leaf--3,
.flower__line__leaf--4,
.flower__line__leaf--6 {
  left: -460%;
  transform: rotate(-70deg) rotateY(30deg);
}

.flower__line__leaf--4 { top: 40%; }
.flower__line__leaf--5 { top: 0; transform: rotate(70deg) scale(0.6); }
.flower__line__leaf--6 { top: -2%; left: -450%; transform: rotate(-70deg) scale(0.6); }

/* ---------------- GRASS (NO BLACK OVERLAY) ---------------- */

.flower__grass__overlay {
  display: none;
}

/* grass stems */
.flower__grass--bottom,
.flower__g-long__bottom {
  background-image:
    linear-gradient(
      to top,
      transparent,
      var(--stem-mid) 40%,
      var(--stem-light)
    );
  box-shadow: inset 0 0 0.6vmin rgba(255,255,255,0.12);
}

/* ---------------- LONG GRASS LEAVES ---------------- */

.long-g .leaf {
  border-left: 2vmin solid var(--stem-mid);
  background-image:
    linear-gradient(
      to right,
      var(--stem-dark),
      var(--stem-mid) 50%,
      var(--stem-light)
    );
  -webkit-mask-image: linear-gradient(to top, transparent 20%, #1e9e57);
}

/* ---------------- FRONT / SIDE LEAVES (NO BLACK MASKS) ---------------- */

.flower__g-front__leaf,
.flower__g-fr__leaf,
.flower__g-right .leaf {
  background-image:
    linear-gradient(
      to bottom right,
      var(--stem-dark),
      var(--stem-mid) 60%,
      var(--stem-light)
    );
  box-shadow: inset 0 0 0.6vmin rgba(255,255,255,0.18);
}

/* ---------------- LIGHT PARTICLES ---------------- */

.flower__light {
  width: 1vmin;
  height: 1vmin;
  border-radius: 50%;
  background: #ffd166;
  filter: blur(0.25vmin);
  animation: light-ans 8s ease-in-out infinite backwards;
}

@keyframes light-ans {
  0% { opacity: 0; transform: translateY(0); }
  50% { opacity: 1; transform: translateY(-15vmin); }
  100% { opacity: 0; transform: translateY(-30vmin); }
}

/* ---------------- TITLE ---------------- */

.valentine-text {
  position: fixed;
  top: 5.5vmin;
  left: 50%;
  transform: translateX(-50%);
  padding: 0.9rem 1.25rem;
  border-radius: 999px;
  background: rgba(0,0,0,.22);
  backdrop-filter: blur(6px);
}

.valentine-text span {
  font-weight: 800;
  font-size: clamp(28px, 5.4vmin, 62px);
  color: #ffe8f3;
  background: linear-gradient(180deg, #fff, #ffd1e6, #ff7ac8);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
